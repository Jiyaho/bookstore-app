# TODO

## I. 백엔드

### 사용한 기술

- Next.js, Prisma, SQLite(개발/테스트 환경), PostgreSQL

### 구현한 기능

- Book Model 구성 (도서명, 저자, 카테고리, 출판사, 출판일, 책 가격, 재고, 책 대표 이미지, 책 이미지 배열)
- Book CRUD API 라우트 구현
- 프론트엔드 개발 전 POSTMAN을 통해 백엔드 API 테스트
- 서버 페이지네이션 구현
- 테스트 코드 작성: POST 관련 테스트 코드 작성

### API

- [x] 책 목록 조회 (GET /api/books)
- [x] 책 상세 정보 조회 (GET /api/books/:id)
- [x] 책 추가 (POST /api/books)
- [x] 책 정보 수정 (PUT /api/books/:id)
- [x] 책 삭제 (DELETE /api/books/:id)
- [x] 책 필터 검색 (GET `/api/search?keyword=${keyword}&filter=${filter}&page=${page}&limit=${limit}`)

## II. 프론트엔드

### 사용한 기술

- Next.js, React-Query, Tailwind CSS, NextUI

### 구현한 기능

- [x] 책 목록 페이지 구현
  - [x] 책 제목, 저자, 출판사, 출판일, 책 가격, 책 이미지, 책 설명 출력
  - [x] 페이지네이션 (한 페이지당 10권의 책 출력)
  - [x] 도서명과 저자명으로 필터링할 수 있는 검색 기능 구현
- [x] 책 상세 페이지 구현
- [x] 책 등록 페이지 구현 (책 재고 조절 기능 구현) -> Modal로 구현
- [x] 책 수정 페이지 구현 -> Modal로 구현
- [x] 책 삭제 기능 구현

## III. 성능 최적화

- 성능 최적화 방법 (캐싱, 지연 로딩 등)
  - [x] 책 전체 리스트와 검색 결과 리스트에 서버 페이지네이션 + React Query를 통한 최적화 적용
    - 백엔드에서 페이지네이션 처리를 수행 후 필요한 데이터만 요청하도록 API 호출 (백엔드에서 skip과 take를 활용하여 요청된 페이지 데이터만 반환, React Query의 캐싱 기능을 통해 데이터 캐싱 및 재사용)
    - cf. slice() 함수를 통해 클라이언트에서 페이지네이션을 처리하게 되면, 모든 데이터를 불러온 후에 클라이언트 측에서 나누므로 데이터가 많을 경우에는 성능과 네트워크 사용량이 증가하게 되므로.
  - [x] 책 커버 이미지 Lazy Loading 적용

## IV. 테스트 코드

### 1. 책 추가 (POST /api/books)

- 필수 필드가 누락된 경우 400 상태 코드와 에러 메시지가 반환되는지 확인하는 테스트.
- 유효한 데이터가 제공되면 책이 데이터베이스에 저장되는지 확인하는 테스트.
- 제목, 저자, 출판사가 모두 동일한 책을 중복 등록할 수 없도록 방지하는 테스트.
- 제목과 저자는 같지만 출판사가 다른 책은 등록이 가능한지 확인하는 테스트.
- 가격이나 재고가 음수일 경우 400 상태 코드와 에러 메시지가 반환되는지 확인하는 테스트.

## 추가하면 좋을 기능

- [ ] 책 이미지 파일 업로드
- [ ] 책 정렬 기능 구현
- [x] 핵심 기능에 대한 테스트 코드 작성: 책 추가 기능에 대한 테스트 코드 작성
